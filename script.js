const cover = document.getElementById("cover");
const pageContainer = document.getElementById("pageContainer");
const poemText = document.getElementById("poemText");
const page = document.getElementById("page");
const particles = document.querySelector(".particles");

const poems = [

`तेरी आँखों में समंदर सा गहरापन है,
डूब जाऊँ तो भी सुकून मिलता है,
तू मुस्कुरा दे बस एक बार,
दिल को जैसे जहान मिलता है...`,

`तेरे चेहरे की वो सादगी,
चाँद को भी शर्मिंदा कर दे,
तेरी एक झलक भर से ही,
मेरा हर दिन रोशन कर दे...`,

`तेरे हाथों की वो नर्मी,
जैसे बारिश की पहली बूँद,
छू ले अगर इक बार भी,
तो दिल हो जाए बेखुद...`,

`तेरी हँसी में जादू है,
तेरी बातों में मिठास,
तू पास रहे तो लगता है,
रुक गया हो हर एहसास...`,

`तेरी आँखें जैसे सुबह का उजाला,
तेरा चेहरा जैसे चाँद की रात,
तुझे देखकर लगता है,
मिल गई हो दिल को बात...`,

`तेरी झील सी आँखों में,
मैं खुद को ढूँढ लिया करता हूँ,
तेरी तस्वीर को देख-देख,
हर दिन जिया करता हूँ...`,

`तेरे होंठों की वो मुस्कान,
जैसे गुलाब की खुशबू,
तू पास हो तो हर लम्हा,
लगता है बस तू ही तू...`,

`तेरे चेहरे पे गिरती ज़ुल्फें,
जैसे शाम उतर आई हो,
तू सामने हो जब मेरे,
तो दुनिया थम सी जाए हो...`,

`तेरे हाथों में जो सुकून है,
वो किसी दुआ में नहीं,
तू साथ हो अगर मेरे,
तो कमी कुछ भी नहीं...`,

`तेरी आँखों की चमक में,
मैंने अपना घर देखा है,
तेरे चेहरे की रौशनी में,
हर अंधेरा बिखरते देखा है...`,

`मैंने चाहा तुम्हें चुप रहकर,
तुमने देखा मुझे अनजान बनकर,
फासले भी अजीब थे उस वक्त,
दिल पास था, किस्मत दूर रहकर...`,

`कुछ बातें कहनी थीं तुमसे,
मगर अल्फ़ाज़ साथ नहीं थे,
तुम सामने थे हर रोज़,
पर हौसले मेरे पास नहीं थे...`,

`तेरे शहर में रहा बरसों,
पर तेरी गली तक न पहुँचा,
इश्क़ किया तुझसे बेइंतहा,
पर इज़हार तक न पहुँचा...`,

`तुम्हारी हँसी में खुद को पाया,
तुम्हारी ख़ामोशी में खो गया,
तुमने कभी जाना ही नहीं,
कोई तुम पर ही रो गया...`,

`मैंने हर दुआ में तुम्हें माँगा,
तुमने हर दुआ में किसी और को,
मेरी मोहब्बत सच्ची थी,
पर मुक़द्दर था कमज़ोर वो...`,

`तुम्हें चाहा था बेवजह,
कोई वजह ढूँढी भी नहीं,
दिल ने कहा बस तुम ही हो,
दिमाग़ ने बात सुनी भी नहीं...`,

`रातों में नाम तुम्हारा आता है,
नींद भी अब मेहमान सी है,
दिल अब भी तुम्हारा है शायद,
बस ज़िंदगी हैरान सी है...`,

`तुम्हारे बिना भी जी रहे हैं,
पर जीना आसान नहीं,
मोहब्बत एक तरफ़ा सही,
पर एहसास कम जान नहीं...`,

`हर रोज़ तुम्हें देखते हैं,
जैसे पहली बार देखा हो,
दिल हर बार यही कहता है,
काश तुमने भी ऐसा ही सोचा हो...`,

`तुम्हारी तस्वीर से बात करते हैं,
तुम्हारी यादों में रात करते हैं,
तुम जान भी नहीं पाते,
हम तुमसे कितनी मोहब्बत करते हैं...`,

`दिल ने चाहा तुम्हें बेइंतहा,
तुमने बस दोस्त समझा,
मैंने ख़्वाब सजाए थे तुम्हारे,
तुमने हर ख़्वाब को ही कुचल डाला...`,

`तुम्हारी राहों में खड़े रहे,
तुम किसी और संग चलते रहे,
हमने दिल संभाला हर दफा,
तुम बस मुस्कुराते रहे...`,

`कभी सोचा था कह देंगे सब,
पर लम्हा कभी आया ही नहीं,
तुम्हें खोने के डर से शायद,
इज़हार का मौका पाया ही नहीं...`,

`तुम्हें चाहना मेरी आदत थी,
तुम्हें पाना मेरी किस्मत नहीं,
दिल अब भी तुम्हारा है,
बस तुम मेरी ज़रूरत नहीं...`,

`मोहब्बत की थी बेआवाज़,
कोई शोर किया ही नहीं,
तुम्हारे नाम से धड़कते रहे,
कभी ज़िक्र किया ही नहीं...`,

`वो लम्हे आज भी याद हैं,
जब तुम पास हुआ करते थे,
हमने इश्क़ छुपाया था,
तुम बस दोस्त हुआ करते थे...`,

`तुम्हारी एक झलक के लिए,
हमने दिन काटे थे,
तुम्हें क्या मालूम,
हमने कितने ख़्वाब बाँटे थे...`,

`दिल अब भी वही है,
बस उम्मीदें बदल गईं,
तुम अब भी वही हो शायद,
पर दूरियाँ संभल गईं...`,

`तुम्हारी मुस्कान में जन्नत थी,
हम वहीं ठहर गए,
तुम आगे बढ़ गए मगर,
हम वहीं ठहर गए...`,

`तुम्हें चाहा था इबादत समझकर,
तुमने खेल समझ लिया,
हमने दिल सौंप दिया था,
तुमने बस वक़्त समझ लिया...`,

`हर बार सोचा भूल जाएँगे,
पर दिल मानता ही नहीं,
इश्क़ भी अजीब कैदी है,
जो छूटता ही नहीं...`,

`तुम्हारे नाम की बारिश में,
भीगते रहे बरसों,
तुमने छत किसी और की थामी,
हम खड़े रहे तरसों...`,

`एक तरफ़ा मोहब्बत में भी,
सुकून मिला अजीब सा,
तुम खुश रहो बस यही दुआ,
दिल चाहे टूटा नसीब सा...`,

`तुम्हें खोकर भी पाया है,
तुम यादों में बसते हो,
इश्क़ अधूरा सही मगर,
दिल में ही रहते हो...`,

`कुछ बातें अब भी अधूरी हैं,
कुछ ख्वाब अब भी अधूरे,
तुम्हारे बिना जीना सीखा,
पर एहसास हैं पूरे...`,

`मैंने तुम्हें अपना माना,
तुमने मुझे अपना कहा नहीं,
दिल ने हर दर्द सहा,
पर तुमने कभी समझा नहीं...`,

`तुम्हारे जाने के बाद भी,
घर वही है, दीवार वही,
बस एक जगह खाली है,
जहाँ तुम्हारा नाम था कभी...`,

`तुम्हें चाहा था आख़िरी हद तक,
पर हदें भी टूट न सकीं,
हमने दिल खो दिया मगर,
तुम्हारी दुनिया छूट न सकी...`,

`इश्क़ अधूरा ही सही,
पर सच्चा था मेरा,
तुम्हारी ख़ुशी में ही छुपा,
हर सपना था मेरा...`

];

let currentPage = 0;
let isWriting = false;
let finished = false;
let opened = false;

/* Open Cover */
cover.addEventListener("click", () => {
  if (opened) return;
  opened = true;
  cover.classList.add("hide");
  setTimeout(() => {
    pageContainer.classList.add("show");
    startTyping();
  }, 600);
});

/* Typing */
function startTyping() {
  poemText.innerHTML = "";
  isWriting = true;
  finished = false;

  const words = poems[currentPage].split(" ");
  let i = 0;

  function type() {
    if (i < words.length) {
      poemText.innerHTML += words[i] + " ";
      i++;
      setTimeout(type, 80);
    } else {
      isWriting = false;
      finished = true;
      page.classList.add("glow");
    }
  }

  type();
}

/* Click Page */
page.addEventListener("click", () => {

  if (!opened) return;

  if (isWriting) {
    poemText.innerHTML = poems[currentPage];
    isWriting = false;
    finished = true;
    return;
  }

  if (finished) {
    page.classList.remove("glow");
    currentPage++;
    if (currentPage >= poems.length) currentPage = 0;
    startTyping();
  }
});

/* Stars */
for (let i = 0; i < 100; i++) {
  const star = document.createElement("div");
  star.classList.add("star");
  star.style.left = Math.random() * 100 + "vw";
  star.style.top = Math.random() * 100 + "vh";
  particles.appendChild(star);
}

/* Shooting Star */
function createShootingStar() {
  const star = document.createElement("div");
  star.classList.add("shooting-star");
  document.body.appendChild(star);
  setTimeout(() => star.remove(), 2500);
}

setInterval(() => {
  if (Math.random() > 0.7) createShootingStar();
}, 4000);